# VM 06 ‚Äì Trinity-Pentest (Kali Linux)

## üñ•Ô∏è VM Configuration
- **RAM:** 3 GB
- **vCPU:** 2
- **Disk:** 30 GB
- **OS:** Kali Linux (latest ISO)
- **Network:** 
  - Host-Only (VMnet1 - LAN)

---

## üåê Network Configuration
- **IP Address:** DHCP (192.168.1.0/24, assigned by Gondor-DC)
- **Gateway:** 192.168.1.254 (pfSense)
- **DNS:** 192.168.20.10 (Gondor-DC)

---

## üîß Install & Configure Tools

Kali comes with many tools pre-installed. Add the following for enhanced offensive capabilities:

1Ô∏è‚É£ **BloodHound + Neo4j (Active Directory Enumeration)**  
`sudo apt install bloodhound neo4j`

2Ô∏è‚É£ **Enum4linux (SMB Enumeration)**  
`sudo apt install enum4linux`

3Ô∏è‚É£ **Hydra (Brute-force Testing)**  
`sudo apt install hydra`

4Ô∏è‚É£ **CrackMapExec (Post-exploitation)**  
`sudo apt install crackmapexec`

5Ô∏è‚É£ **Metasploit Framework**  
Pre-installed. Launch with:  
`msfconsole`

6Ô∏è‚É£ **Network Discovery**  
`nmap -sn 192.168.1.0/24`

---

## üîó Join the Domain (Optional for Advanced Scenarios)

Join Kali to the Active Directory domain for realistic attack simulations:

1Ô∏è‚É£ Install required packages:  
`sudo apt install realmd sssd krb5-user packagekit samba-common samba-common-bin samba-libs adcli`

2Ô∏è‚É£ Discover and join the domain:  
`sudo realm discover lab.local`  
`sudo realm join lab.local -U administrator`

3Ô∏è‚É£ Test domain access:  
`id leandro@lab.local`  
`kinit administrator`

---

## üß™ Offensive Tools & Attack Scenarios

- **SEToolkit**: Phishing simulation.
- **BloodHound + Neo4j**: AD enumeration.
- **Enum4linux, SMBclient**: SMB/LDAP enumeration.
- **Hydra**: Brute-force attacks on Neo-Client and Gondor-DC.
- **Metasploit**: Exploitation of vulnerabilities.
- **Nmap**: Network scanning and service detection.
- **CrackMapExec**: Credential spraying and lateral movement.

---

## üéØ Role in the Lab

- Simulates an internal adversary.
- Targets:
  - `Neo-Client` (Windows 10)
  - `Borg-Victim` (Metasploitable 2)
  - `Gondor-DC` (Active Directory)
- Generates logs and alerts for SIEM analysis in Oracle-SI.
- Supports blue team training for detection and response.

---

## üõ°Ô∏è Hardening Ideas

- Limit external access; use snapshots for quick rollback.
- Simulate attacks on a schedule to test monitoring.
- Write custom attack scripts for automation.

--- 
