# VM 01 ‚Äì gatekeeper (pfSense)

## üñ•Ô∏è VM Configuration
- **RAM:** 2 GB
- **vCPU:** 2
- **Disk:** 20 GB
- **OS:** pfSense 2.7.x
- **Network:**
  - Adapter 1 (WAN) ‚Äì NAT (Internet access)
  - Adapter 2 (LAN) ‚Äì Host-Only (VMnet1) ‚Äì 192.168.1.0/24
  - Adapter 3 (DMZ) ‚Äì Host-Only (VMnet2) ‚Äì 192.168.10.0/24
  - Adapter 4 (SERVERS) ‚Äì Host-Only (VMnet3) ‚Äì 192.168.20.0/24
  - Adapter 5 (ADMIN) ‚Äì Host-Only (VMnet9) ‚Äì 192.168.99.0/24

---

## üîß Core Services
- Firewall & NAT
- VLAN segmentation
- pfBlockerNG (Content filtering, reputation lists)
- DNS Forwarding (optional resolver)
- DHCP for internal networks (optional)

---

## üåê Network Addresses
| Interface | Network  | IP Address         |
|-----------|-----------|--------------------|
| LAN       | VMnet1    | 192.168.1.254/24   |
| DMZ       | VMnet2    | 192.168.10.254/24  |
| SERVERS   | VMnet3    | 192.168.20.254/24  |
| ADMIN     | VMnet9    | 192.168.99.1/24    |

---

## üöÄ Basic Setup Steps

1Ô∏è‚É£ **Install pfSense 2.7.x** from the ISO.

2Ô∏è‚É£ **Assign interfaces**:
- em0 ‚Üí WAN (NAT)
- em1 ‚Üí LAN
- em2 ‚Üí DMZ
- em3 ‚Üí SERVERS
- em4 ‚Üí ADMIN

3Ô∏è‚É£ **Set static IPs**:
- LAN: 192.168.1.254/24
- DMZ: 192.168.10.254/24
- SERVERS: 192.168.20.254/24
- ADMIN: 192.168.99.1/24

4Ô∏è‚É£ **Access WebGUI**:
- Open `https://192.168.99.1` from your Windows host.
- Login: `admin / pfsense`.

5Ô∏è‚É£ **Run Setup Wizard**:
- Hostname: `gatekeeper.lab.local`
- Domain: `lab.local`
- Upstream DNS: `8.8.8.8`

6Ô∏è‚É£ **Install pfBlockerNG**:
- Go to: `System > Package Manager > Available Packages`.
- Install: `pfBlockerNG-devel`.

7Ô∏è‚É£ **Configure Remote Logging**:
- Go to: `Status > System Logs > Settings > Remote Syslog Servers`.
- Add: `192.168.20.30` (Splunk - Oracle-SI).

---

## üõ°Ô∏è Hardening Ideas
- Implement IDS/IPS (Snort/Suricata).
- Create advanced firewall rules (Geo-blocking, Application control).
- Enable log forwarding to SIEM (Oracle-SI).

--- 
